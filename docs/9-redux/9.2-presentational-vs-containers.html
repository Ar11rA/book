
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Presentational VS Containers ¬∑ GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-disqus/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../10-navigation/10.0-intro.html" />
    
    
    <link rel="prev" href="9.1-redux-setup.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction üéâ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../3-react-native-internals/3.1-react-native-internals.html">
            
                <a href="../3-react-native-internals/3.1-react-native-internals.html">
            
                    
                    React Native Internals üì°
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../4-setting-up-the-project/4.1-installing-react-native.html">
            
                <a href="../4-setting-up-the-project/4.1-installing-react-native.html">
            
                    
                    Setting up the project üåà
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Start building the app üòé</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../5-project-structure-and-start-building-some-app/5.0-intro.html">
            
                <a href="../5-project-structure-and-start-building-some-app/5.0-intro.html">
            
                    
                    Project Structure üè¢
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../5-project-structure-and-start-building-some-app/5.1-customising-the-structure.html">
            
                <a href="../5-project-structure-and-start-building-some-app/5.1-customising-the-structure.html">
            
                    
                    Customizing the project structure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../5-project-structure-and-start-building-some-app/5.2-basic-components-and-platform-specific-code.html">
            
                <a href="../5-project-structure-and-start-building-some-app/5.2-basic-components-and-platform-specific-code.html">
            
                    
                    Creating basic components and writing platform specific code
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../6-conventions-and-code-style/6.0-intro.html">
            
                <a href="../6-conventions-and-code-style/6.0-intro.html">
            
                    
                    Coventions and Code Style üéì
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="../6-conventions-and-code-style/6.1-eslint.html">
            
                <a href="../6-conventions-and-code-style/6.1-eslint.html">
            
                    
                    Eslint : The guardian of code conventions ‚öîÔ∏è
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="../6-conventions-and-code-style/6.2-git-pre-hooks.html">
            
                <a href="../6-conventions-and-code-style/6.2-git-pre-hooks.html">
            
                    
                    Github Pre-push/Pre-commit Hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="../6-conventions-and-code-style/6.3-environment-variables.html">
            
                <a href="../6-conventions-and-code-style/6.3-environment-variables.html">
            
                    
                    Environment Variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.4" data-path="../6-conventions-and-code-style/6.4-es7-features.html">
            
                <a href="../6-conventions-and-code-style/6.4-es7-features.html">
            
                    
                    Speed up development with some and ES7 features ü§ò
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../7-testing/7.0-intro.html">
            
                <a href="../7-testing/7.0-intro.html">
            
                    
                    Testing and Debugging üö´üêû
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="../7-testing/7.1-jest-setup.html">
            
                <a href="../7-testing/7.1-jest-setup.html">
            
                    
                    Jest setup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="../7-testing/7.2-snapshots.html">
            
                <a href="../7-testing/7.2-snapshots.html">
            
                    
                    Snapshots
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.3" data-path="../7-testing/7.3-enzyme-testing.html">
            
                <a href="../7-testing/7.3-enzyme-testing.html">
            
                    
                    Testing stateful components using Enzyme
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.4" data-path="../7-testing/7.4-mocking-rn-modules.html">
            
                <a href="../7-testing/7.4-mocking-rn-modules.html">
            
                    
                    Mocking RN modules  
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../8-styling/8.0-intro.html">
            
                <a href="../8-styling/8.0-intro.html">
            
                    
                    Styling üíÖüèª
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="../8-styling/8.1-theme-variables.html">
            
                <a href="../8-styling/8.1-theme-variables.html">
            
                    
                    Theme Variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.2" data-path="../8-styling/8.2-common-styles-mixins.html">
            
                <a href="../8-styling/8.2-common-styles-mixins.html">
            
                    
                    Common Styles/Mixins
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.3" data-path="../8-styling/8.3-separating-styles-from-component.html">
            
                <a href="../8-styling/8.3-separating-styles-from-component.html">
            
                    
                    Separating styles from component
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="9.0-intro.html">
            
                <a href="9.0-intro.html">
            
                    
                    Redux üóÑ
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.5.1" data-path="9.1-redux-setup.html">
            
                <a href="9.1-redux-setup.html">
            
                    
                    Redux setup
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.5.2" data-path="9.2-presentational-vs-containers.html">
            
                <a href="9.2-presentational-vs-containers.html">
            
                    
                    Presentational VS Containers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../10-navigation/10.0-intro.html">
            
                <a href="../10-navigation/10.0-intro.html">
            
                    
                    Navigation üö™
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.6.1" data-path="../10-navigation/10.1-using-react-navigation.html">
            
                <a href="../10-navigation/10.1-using-react-navigation.html">
            
                    
                    Using React-navigation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.2" data-path="../10-navigation/10.2-integrating-with-redux-store.html">
            
                <a href="../10-navigation/10.2-integrating-with-redux-store.html">
            
                    
                    Integrating with redux store
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.3" data-path="../10-navigation/10.3-file-structure-for-routes.html">
            
                <a href="../10-navigation/10.3-file-structure-for-routes.html">
            
                    
                    File Structure for routes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="../11-devops/11.0-devops.html">
            
                <a href="../11-devops/11.0-devops.html">
            
                    
                    DevOps ‚öôÔ∏è
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.7.1" data-path="../11-devops/11.1-android-build-setup.html">
            
                <a href="../11-devops/11.1-android-build-setup.html">
            
                    
                    Android Build setup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.2" data-path="../11-devops/11.2-ios-build-setup.html">
            
                <a href="../11-devops/11.2-ios-build-setup.html">
            
                    
                    iOS Build setup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.3" data-path="../11-devops/11.3-ci-setup.md">
            
                <span>
            
                    
                    CI setup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.4" data-path="../11-devops/11.4-test-fairy-setup.md">
            
                <span>
            
                    
                    Test Fairy setup
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="../12-svg-icons-using-react-native-vector-icons/12.0-intro.html">
            
                <a href="../12-svg-icons-using-react-native-vector-icons/12.0-intro.html">
            
                    
                    SVG Icons using react-native-vector-icons üêæ
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.8.1" data-path="../12-svg-icons-using-react-native-vector-icons/12.1-creating-custom-iconset.html">
            
                <a href="../12-svg-icons-using-react-native-vector-icons/12.1-creating-custom-iconset.html">
            
                    
                    Custom Icon set
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="../13-internationalization/13.1-framework-intro.html">
            
                <a href="../13-internationalization/13.1-framework-intro.html">
            
                    
                    Internationalization üáÆüá≥üá∫üá∏üá∑üá∫
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.9.1" data-path="../13-internationalization/13.2-language-toggle.html">
            
                <a href="../13-internationalization/13.2-language-toggle.html">
            
                    
                    Adding language toggle feature
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.2" data-path="../13-internationalization/13.3-integration-with-react-navigation.html">
            
                <a href="../13-internationalization/13.3-integration-with-react-navigation.html">
            
                    
                    Integration with react-navigation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.3" data-path="../15-third-party-components/15.1-when-should-i-search-for-pre-built-components.md">
            
                <span>
            
                    
                    When should I search for pre-built components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.4" data-path="../15-third-party-components/15.2-linking-components.md">
            
                <span>
            
                    
                    Linking components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.5" data-path="../15-third-party-components/15.3-recommended-components.md">
            
                <span>
            
                    
                    Recommended components
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.10" data-path="../16-custom-native-modules/16.0-intro.html">
            
                <a href="../16-custom-native-modules/16.0-intro.html">
            
                    
                    Custom Native Modules üçÆ
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.10.1" data-path="../16-custom-native-modules/16.1-android-native-module.html">
            
                <a href="../16-custom-native-modules/16.1-android-native-module.html">
            
                    
                    Android Native Modules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.2" data-path="../16-custom-native-modules/16.2-ios-native-module.html">
            
                <a href="../16-custom-native-modules/16.2-ios-native-module.html">
            
                    
                    iOS Native Modules
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Presentational VS Containers</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="presentational-components-vs-container-components">Presentational Components VS Container Components</h1>
<p>When writing code in React or React Native, we often wonder how to structure our code so that it makes our life much easier with handling all state changes, data flow and renders, etc. There is a pattern which helps organizing React based applications - splitting the components into presentational and containers.</p>
<h3 id="presentational-components">Presentational components</h3>
<p>Presentational components are those components whose only job is to render a view according the styling and data passed to it.
In essence they do not have any business logic in them. That is why they are sometimes also called &apos;dumb components&apos;.
This means that they don&apos;t have direct access to redux or other data stores. Data is passed onto them as props.
According to Dan Abramov via his blog <a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0" target="_blank">https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0</a>,</p>
<p>In a nutshell, presentational components:</p>
<ul>
<li>are concerned with how things look.</li>
<li>have markup and styles of their own.</li>
<li>Have no dependencies on the rest of the app, such as redux stores.</li>
<li>don&#x2019;t specify how the data is loaded or mutated.</li>
<li>receive data and callbacks exclusively via props.</li>
<li>rarely have their own state (when they do, it&#x2019;s UI state rather than data).</li>
</ul>
<p>An example of a Dumb/Presentational component would be :</p>
<pre><code class="lang-js"><span class="hljs-keyword">import</span> React, {Component} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>;
<span class="hljs-keyword">import</span> {View} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react-native&apos;</span>;
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;./Header.component.style&apos;</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Header</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
  render () {
    <span class="hljs-keyword">const</span> {title, subtitle} = <span class="hljs-keyword">this</span>.props;
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.container}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.titleHeading}</span>&gt;</span>{title}<span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.subtitle}</span>&gt;</span>{subtitle}<span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
    );
  }
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Header;
</code></pre>
<h3 id="container-components">Container components</h3>
<p>Container components are those React components which have access to the store. These components make api calls, do processing and contain the business logic of the app. Container components shouldn&apos;t have the view logic or presentational logic. The job of container component is to compute the values and pass them as props to the presentational components. Hence these components are sometimes also referred to as Smart Components.</p>
<p>Hence, Container components:</p>
<ul>
<li>are concerned with how things work.</li>
<li>don&#x2019;t usually have any markup of their own except for some wrapping Views, and never have any styles.</li>
<li>provide the data and behavior to presentational or other container components.</li>
<li>call redux actions and provide these as callbacks to the presentational components.</li>
<li>are often stateful, as they tend to serve as data sources.</li>
<li>are usually generated using higher order components such as connect() from React Redux, createContainer() from Relay, or  Container.create() from Flux Utils, rather than written by hand.</li>
</ul>
<p>An example of Smart/Container component would be:</p>
<pre><code class="lang-js"> <span class="hljs-keyword">import</span> React, {Component} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>;
 <span class="hljs-keyword">import</span> Header <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;../component/Header.component&apos;</span>;

 <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Home</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
   calculateSomething = () =&gt; {
     ...some calculation / api calls....
   }
   render () {
     <span class="hljs-keyword">const</span> {title, subtitle, goToLogin} = <span class="hljs-keyword">this</span>.props;
     <span class="hljs-keyword">return</span> (
       <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Header</span> <span class="hljs-attr">title</span>=<span class="hljs-string">{title}</span> <span class="hljs-attr">subtitle</span>=<span class="hljs-string">{subtitle}</span> <span class="hljs-attr">goToLogin</span>=<span class="hljs-string">{goToLogin}</span> <span class="hljs-attr">calculateSomething</span>=<span class="hljs-string">{this.calculateSomething}</span>/&gt;</span>
     );
   }
 }
 const mapStateToProps = (state)=&gt;{
   return {
     title: state.title,
     subtitle: state.subtitle
   };
 };

 const mapDispatchToProps = (dispatch) =&gt; {
   goToLogin: () =&gt; dispatch({action:&apos;GO_TO_LOGIN&apos;})
 };

 export default connect(mapStateToProps, mapDispatchToProps)(Home);
</span></code></pre>
<p>In the above example, if you notice our Container components do not do any kind of layouting or styling. It only manages the business logic. This helps us separate the concerns &quot;Styling/Layouting&quot; and &quot;Business Logic&quot;.</p>
<p><strong>The Container-Presentational pattern gives us many benefits:</strong></p>
<ul>
<li>Less code duplication. Because you are now forced to move all the layout components out as separate presentational components, you can now directly reuse them instead of copy-pasting the code in every page.</li>
<li>Presentational components are essentially your app&#x2019;s View layer. Hence, you can change the styling without touching the app&apos;s logic.</li>
<li>Better separation of concerns. You understand your app and your UI better by writing components this way.</li>
<li>Better reusability. You can use the same presentational component with completely different state sources, and turn those into separate container components that can be further reused.</li>
</ul>
<h3 id="back-to-code">Back to Code</h3>
<p>Lets organize our project to include presentational and container components pattern.</p>
<p>First lets add a new reducer to manage our content (title and text).</p>
<p>Modify the action file to include these:</p>
<blockquote>
<p>app/redux/actions/index.actions.js</p>
</blockquote>
<pre><code class="lang-js"><span class="hljs-keyword">import</span> {createAction} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;redux-actions&apos;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> TEST_ACTION = <span class="hljs-string">&apos;TEST_ACTION&apos;</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> SET_TEXT = <span class="hljs-string">&apos;SET_TEXT&apos;</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> SET_TITLE = <span class="hljs-string">&apos;SET_TITLE&apos;</span>;


<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> setTitle = createAction(SET_TITLE);
<span class="hljs-comment">/* This is equivalent to
export const setTitle = (payload) =&gt; {
  return {
    type: SET_TITLE,
    payload: payload
  };
};
*/</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> setText = createAction(SET_TEXT);
</code></pre>
<p>Notice the use of <code>createAction</code>. As the comment says:</p>
<p>We are essentially replacing:</p>
<pre><code class="lang-js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> setTitle = (payload) =&gt; {
  <span class="hljs-keyword">return</span> {
    type: SET_TITLE,
    payload: payload
  };
};
</code></pre>
<p><em>with</em></p>
<pre><code class="lang-js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> setTitle = createAction(SET_TITLE);
</code></pre>
<p>To do this we need to include another package</p>
<p><code>yarn add redux-actions</code></p>
<p>Now, lets create the corresponding reducer</p>
<blockquote>
<p>app/redux/reducers/content.reducer.js</p>
</blockquote>
<pre><code class="lang-js"><span class="hljs-keyword">import</span> {SET_TEXT, SET_TITLE} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;../actions/index.actions&apos;</span>;

<span class="hljs-keyword">const</span> defaultState = {
  text: <span class="hljs-string">&apos;&apos;</span>,
  title: <span class="hljs-string">&apos;&apos;</span>
};

<span class="hljs-keyword">const</span> content = (state = defaultState, action) =&gt; {
  <span class="hljs-keyword">switch</span> (action.type) {
  <span class="hljs-keyword">case</span> SET_TEXT: {
    <span class="hljs-keyword">return</span> {...state, text: action.payload};
  }
  <span class="hljs-keyword">case</span> SET_TITLE: {
    <span class="hljs-keyword">return</span> {...state, title: action.payload};
  }
  <span class="hljs-keyword">default</span>:
    <span class="hljs-keyword">return</span> state;
  }
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> content;
</code></pre>
<p>Now, lets add the reducer to the root reducer.</p>
<blockquote>
<p>app/redux/reducers/root.reducer.js</p>
</blockquote>
<pre><code class="lang-js"><span class="hljs-keyword">import</span> {combineReducers} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;redux&apos;</span>;
<span class="hljs-keyword">import</span> test <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;./test.reducer&apos;</span>;
<span class="hljs-keyword">import</span> content <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;./content.reducer&apos;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> combineReducers({
  test,
  content
});
</code></pre>
<p>Finally, its time to create our first Smart component.</p>
<p>Create a new file under <code>/pages</code> with the name <code>Home.page.js</code></p>
<blockquote>
<p>app/pages/Home.page.js</p>
</blockquote>
<pre><code class="lang-js"><span class="hljs-keyword">import</span> React, {Component} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>;
<span class="hljs-keyword">import</span> PropTypes <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;prop-types&apos;</span>;
<span class="hljs-keyword">import</span> {connect} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react-redux&apos;</span>;
<span class="hljs-keyword">import</span> {setTitle, setText} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;../redux/actions/index.actions&apos;</span>;
<span class="hljs-keyword">import</span> Home <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;../components/Home/Home.component&apos;</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
  render () {
    <span class="hljs-keyword">const</span> {setTitle, setText, title, text} = <span class="hljs-keyword">this</span>.props;
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Home</span> <span class="hljs-attr">setTitle</span>=<span class="hljs-string">{setTitle}</span> <span class="hljs-attr">setText</span>=<span class="hljs-string">{setText}</span> <span class="hljs-attr">title</span>=<span class="hljs-string">{title}</span> <span class="hljs-attr">text</span>=<span class="hljs-string">{text}</span> /&gt;</span>
    );
  }
 }

HomePage.propTypes = {
  setTitle: PropTypes.func,
  setText: PropTypes.func,
  title: PropTypes.string,
  text: PropTypes.string
};

const mapStateToProps = (state) =&gt; ({
  title: state.content.title,
  text: state.content.text
});

const mapDispatchToProps = (dispatch) =&gt; ({
  setTitle: (title) =&gt; dispatch(setTitle(title)),
  setText: (text) =&gt; dispatch(setText(text)),
});

export default connect(mapStateToProps, mapDispatchToProps)(HomePage);
</span></code></pre>
<p>If you notice the job of Home Page is just to fetch data and provide logical functions to the view layer.</p>
<p>The corresponding view layer would look like this:</p>
<blockquote>
<p>app/components/Home/Home.component.js</p>
</blockquote>
<pre><code class="lang-js"><span class="hljs-keyword">import</span> React, {Component} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>;
<span class="hljs-keyword">import</span> {View, Text, TextInput} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react-native&apos;</span>;
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;./Home.component.style&apos;</span>;
<span class="hljs-keyword">import</span> TextArea <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;../TextArea/TextArea.component&apos;</span>;
<span class="hljs-keyword">import</span> PropTypes <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;prop-types&apos;</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Home</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
  render () {
    <span class="hljs-keyword">const</span> {setTitle, title, text, setText} = <span class="hljs-keyword">this</span>.props;
    <span class="hljs-keyword">return</span> (
      &lt;View style={styles.container}&gt;
        &lt;Text style={styles.titleHeading}&gt; Note Title&lt;/Text&gt;
        &lt;TextInput style={styles.titleTextInput}
            onChangeText={setTitle} value={title} /&gt;
        &lt;Text style={styles.textAreaTitle}&gt; Please type your note below &lt;/Text&gt;
        &lt;TextArea text={text} onTextChange={setText} style={styles.textArea}/&gt;
        &lt;View style={styles.bottomBar}&gt;
          &lt;View style={styles.bottomBarWrapper}&gt;
            &lt;Text style={styles.saveBtn}&gt;Save&lt;/Text&gt;
            &lt;Text style={styles.characterCount}&gt;{text.length} characters&lt;/Text&gt;
          &lt;/View&gt;
        &lt;/View&gt;
      &lt;/View&gt;
    );
  }
}

Home.propTypes = {
  setTitle: PropTypes.func,
  setText: PropTypes.func,
  title: PropTypes.string,
  text: PropTypes.string
};

export default Home;
</code></pre>
<p>Finally lets modify our app container to include the page instead of the component.</p>
<blockquote>
<p>app/App.container.js</p>
</blockquote>
<pre><code class="lang-js"><span class="hljs-keyword">import</span> React, {Component} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>;
<span class="hljs-keyword">import</span> Home <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;./pages/Home.page&apos;</span>;
<span class="hljs-keyword">import</span> {connect} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react-redux&apos;</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
  render () {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Home</span> /&gt;</span>
    );
  }
}

export default connect(null, null)(App);
</span></code></pre>
<p>Finally our app should look like this:
<br></p>
<p><div style="text-align:center">
  <img src="../assets/images/9/9.2/9.2-state-in-parent.png" style="width: 40%;display:inline-block;" hspace="40">
</div>
<br></p>
<p>Although the app looks exactly the same, it is working in a slightly different manner.</p>
<p><strong>If you paid attention you would notice:</strong></p>
<ul>
<li>Now we have clear demarkation between view and logic layer. Hence if UI breaks we know where to see and if logic breaks we know where to see.</li>
<li>We are not importing <code>react-native</code> at all in any part of the whole code base except <code>app/components/</code>. This means porting the project to any other platform like electron is just rewriting <code>app/components</code> directory.The logical layer remains intact.</li>
<li>Easier to maintain as the flow of data to view layer happens via props.</li>
</ul>
<p><a href="https://snack.expo.io/@master-atul/snack_9_2_container" target="_blank"><img src="https://raw.githubusercontent.com/master-atul/gitbook-plugin-expo-snack/master/assets/external-link-square.png" style="position:relative;width:15px;margin-bottom:-52px;left:100%;margin-left:-100px;"></a><div data-snack-id="@master-atul/snack_9_2_container" data-snack-platform="ios" data-snack-preview="true" data-snack-theme="dark" style="overflow:hidden;background:#212733;border:1px solid rgba(0,0,0,.16);border-radius:4px;height:600px;width:100%"></div><script async src="https://snack.expo.io/embed.js"></script></p>
<p>The code till here can be found on the <strong>branch</strong> <a href="https://github.com/master-atul/react-native-plus-plus-code/tree/chapter/9/9.2" target="_blank">chapter/9/9.2</a></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="9.1-redux-setup.html" class="navigation navigation-prev " aria-label="Previous page: Redux setup">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../10-navigation/10.0-intro.html" class="navigation navigation-next " aria-label="Next page: Navigation üö™">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Presentational VS Containers","level":"2.5.2","depth":2,"next":{"title":"Navigation üö™","level":"2.6","depth":1,"path":"10-navigation/10.0-intro.md","ref":"10-navigation/10.0-intro.md","articles":[{"title":"Using React-navigation","level":"2.6.1","depth":2,"path":"10-navigation/10.1-using-react-navigation.md","ref":"10-navigation/10.1-using-react-navigation.md","articles":[]},{"title":"Integrating with redux store","level":"2.6.2","depth":2,"path":"10-navigation/10.2-integrating-with-redux-store.md","ref":"10-navigation/10.2-integrating-with-redux-store.md","articles":[]},{"title":"File Structure for routes","level":"2.6.3","depth":2,"path":"10-navigation/10.3-file-structure-for-routes.md","ref":"10-navigation/10.3-file-structure-for-routes.md","articles":[]}]},"previous":{"title":"Redux setup","level":"2.5.1","depth":2,"path":"9-redux/9.1-redux-setup.md","ref":"9-redux/9.1-redux-setup.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["-lunr","-search","search-plus","disqus","expo-snack","ga"],"pluginsConfig":{"disqus":{"useIdentifier":false,"shortName":"rnMadeEasy"},"ga":{"configuration":"auto","token":"UA-XXXX-Y"},"search-plus":{},"expo-snack":{"myConfigKey":"it's the default value"},"highlight":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"9-redux/9.2-presentational-vs-containers.md","mtime":"2017-12-09T19:16:28.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2017-12-09T20:22:27.751Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.16.1/URI.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-disqus/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

